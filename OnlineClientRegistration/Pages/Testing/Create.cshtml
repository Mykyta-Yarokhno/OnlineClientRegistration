@page
@model CreateModel
@{
}

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>

<div align ="center">
    <h2 >Добавление новой записи</h2>
    <form method="post">
        <p>
            <label>Ім'я</label><br />
            <input asp-for="NewRecord.ClientInfo.Name" />
            <span asp-validation-for="NewRecord.ClientInfo.Name" class="text-danger"></span>
        </p>
        <p>
            <label for="datepicker">Дата</label><br />
            <input type="text" id="datepicker" class="form-control" />
        </p>
        <p>
            <label>Номер телефону</label><br />
            <input asp-for="NewRecord.ClientInfo.PhoneNumber" />
        </p>
        <p>
            <label>Дата та час</label><br />
            <input asp-for="NewRecord.DateAndTime" />
        </p>
        <p>
            <label class="control-label">Послуги</label><br />
            <select asp-for="NewRecord.ServicesRequested" asp-items="Model.ServiceSelectList" onchange="SelectService(this)"  class="form-control-lg"></select>
        </p>
        <p >
            <label class="control-label">Обрані послуги</label><br />
            <select asp-for="NewRecord.ServicesRequested" asp-items="Model.ChoosenServices" class="form-control-lg" id="ChoosenServices"></select>
        </p>

        <input type="submit" value="Отправить" />
    </form>
</div>

<script>
    function SelectService(service)
    {
        var selectedService = service.selectedOptions[0];
        document.getElementById('ChoosenServices').add(selectedService);
    }
</script>

<script>
    $(document).ready(function () {
        $('#datepicker').datepicker({
            format: 'yyyy-mm-dd', // Формат даты
            todayHighlight: true,  // Подсвечивать текущую дату
            autoclose: true        // Закрывать календарь при выборе даты
        });
    });
</script>

<!--
<script>
    // Додаємо обробник події для події зміни вмісту комбобоксу
    document.getElementById('servicesSelect').addEventListener('change', function () {
        // Перевіряємо, чи вибрано хоча б одну послугу
        var selectedServices = document.getElementById('servicesSelect').selectedOptions;
        if (selectedServices.length > 0) {
            // Клонуємо перший комбобокс
            var firstServiceSelect = document.getElementById('servicesSelect');
            var clonedServiceSelect = firstServiceSelect.cloneNode(true);

            // Змінюємо ID клонованого комбобоксу, щоб він був унікальним
            clonedServiceSelect.id = 'secondServiceSelect';

            // Очищаємо попередній вміст контейнера та додаємо клонований комбобокс
            var secondServiceSelectContainer = document.getElementById('secondServiceSelectContainer');
            secondServiceSelectContainer.innerHTML = '';
            secondServiceSelectContainer.appendChild(clonedServiceSelect);

            // Відображаємо другий комбобокс
            secondServiceSelectContainer.style.display = 'block';
        } else {
            // Якщо не вибрано жодної послуги, приховуємо другий комбобокс
            document.getElementById('secondServiceSelectContainer').style.display = 'none';
        }
    });
</script>
-->