@page
@model OnlineClientRegistration.Pages.Testing.OverallPrintModel
@{
}

<style>
    .even-row {
        background-color: #FFD700;
    }
    .odd-row {
        background-color: #00FF00;
    }
</style>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        var rows = document.querySelectorAll("table tr:not(:first-child)");

        var currentColorClass = "odd-row";
        var currentDate = null;

        rows.forEach(function (row) {
            var dateCell = row.cells[0]; 
            var dateValue = dateCell.textContent.trim();

            if (dateValue === currentDate) 
            {
                row.classList.add(currentColorClass);
            } 
            else 
            {
                currentDate = dateValue;
                currentColorClass = (currentColorClass === "odd-row") ? "even-row" : "odd-row";
                row.classList.add(currentColorClass);
            }
        });
    });
</script>

<h2>Список записей</h2>
<p><a href="/Create">Добавить запись</a></p>
<table class = "table">
    <tr><th>Дата та час</th><th>Послуги</th><th>Номер телефону</th><th>Ім'я</th></tr>
    @foreach (var record in Model.Records)
    {
        <tr>
            <td >@record.DateAndTime</td>
            <td>
               @foreach(var service in record.ServicesRequested)
                {
                    @service.Name
                    if (service != record.ServicesRequested.Last())
                    {
                        @:/
                    }
                }
            </td>
            <td>@record.ClientInfo?.PhoneNumber</td>
            <td>@record.ClientInfo?.Name</td>
        </tr>
    }
</table>
